const DESKTOP_WIDTH="(min-width: 1440px)",MOBILE_HEIGHT_DEPARTURES=24,DESKTOP_HEIGHT_DEPARTURES=28,isUpperDesktop=window.matchMedia(DESKTOP_WIDTH).matches,marks=document.querySelectorAll(".mark");marks.forEach(e=>{isUpperDesktop&&(e.classList.contains("mark--sun")&&(e.classList.remove("mark--sun"),e.classList.add("mark--ocean")),e.classList.contains("mark--dark")&&(e.classList.remove("mark--dark"),e.classList.add("mark--sun"),e.style.top="60px",e.textContent="Круглый год")),"0px"===getComputedStyle(e).top&&(e.style.borderBottomRightRadius="12px")});const departuresContainers=document.querySelectorAll(".card__departures"),getMoreItem=()=>{const e=document.createElement("li"),t=document.createElement("a");return e.className="card__departure",t.href="#URL",t.className="card__departure-btn",t.textContent="eще...",e.append(t),e},moreItem=getMoreItem();departuresContainers.forEach(e=>{const t=e.querySelectorAll(".card__departure"),r=e.querySelectorAll(".card__departure-btn"),s=e=>t=>{t.preventDefault(),(()=>{for(let e of r)e.classList.remove("card__departure-btn--active")})(),e.classList.add("card__departure-btn--active")};r.forEach(e=>{e.addEventListener("click",s(e))});const a=t=>{t.preventDefault(),moreItem.remove(),e.style.height="unset",e.style.overflowY="visible",removeEventListener("click",a)},o=r=>{e.offsetHeight>r&&(e.style.height=r+"px",e.style.overflowY="hidden",t.forEach((e,r)=>{if(0===e.offsetTop&&r===Array.from(t).filter(e=>0===e.offsetTop).length-1){e.before(moreItem);moreItem.querySelector(".card__departure-btn").addEventListener("click",a)}}))};o(isUpperDesktop?28:24)});const titleMarks=document.querySelectorAll(".card__title-mark");isUpperDesktop&&titleMarks.forEach(e=>{e.style.display="none"});const secondaryBtns=document.querySelectorAll(".btn--secondary");isUpperDesktop&&secondaryBtns.forEach(e=>{e.classList.remove("btn--secondary"),e.classList.add("btn--primary")});const symbols=document.querySelectorAll(".symbol");isUpperDesktop&&symbols.forEach(e=>{e.innerHTML="&#8381;"});const imgs=document.querySelectorAll(".card__img");isUpperDesktop&&imgs.forEach((e,t)=>{0===t&&(e.alt="Раздвижной мост Санкт Петербурга"),1===t&&(e.alt="Храм Спаса на Крови Санкт Петербурга")});